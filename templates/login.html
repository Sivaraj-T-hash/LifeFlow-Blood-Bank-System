{% extends 'layout.html' %}
{% block title %}Login{% endblock %}

{% block content %}
<style>
    /* Styling */
    .glass-card { 
        background: white; 
        border-radius: 12px; 
        max-width: 550px; /* INCREASED WIDTH */
        width: 90%; /* Responsive width */
        margin: 80px auto; 
        padding: 50px; /* Increased padding for better look */
        box-shadow: 0 4px 25px rgba(0,0,0,0.15); 
    }
    .form-control { 
        background-color: #f0f4f8 !important; 
        border: 1px solid #dee2e6 !important; 
        color: #333 !important; 
        padding: 12px;
        font-size: 1rem;
    }
    .btn-custom { 
        background-color: #dc3545; 
        color: white; 
        border: none; 
        padding: 12px; 
        border-radius: 6px; 
        width: 100%; 
        font-size: 1.2rem; 
        font-weight: bold;
        transition: 0.3s;
    }
    .btn-custom:hover { background-color: #c82333; }
    
    /* Toggle Button Styling */
    .btn-check:checked + .btn-outline-danger {
        background-color: #dc3545;
        color: white;
        box-shadow: none;
    }
    .btn-outline-danger {
        color: #dc3545;
        border-color: #dc3545;
        padding: 10px;
        font-weight: 600;
    }
    .btn-outline-danger:hover {
        background-color: #fff5f5;
        color: #dc3545;
    }
    
    /* Footer Links */
    .footer-link {
        margin-top: 20px;
        font-size: 0.95rem;
    }
    .footer-link a {
        text-decoration: none;
        color: #dc3545;
        font-weight: bold;
    }
    .footer-link a:hover {
        text-decoration: underline;
    }
</style>

<div class="glass-card text-center">
    <h2 class="mb-4" style="color: #dc3545; font-weight: bold;">Login</h2>
    
    <form method="POST">
        <div class="btn-group w-100 mb-4" role="group">
            <input type="radio" class="btn-check" name="login_type" id="donor" value="donor" checked onclick="toggleFooter('donor')">
            <label class="btn btn-outline-danger" for="donor">Donor</label>

            <input type="radio" class="btn-check" name="login_type" id="hospital" value="hospital" onclick="toggleFooter('hospital')">
            <label class="btn btn-outline-danger" for="hospital">Hospital Staff</label>
            
            <input type="radio" class="btn-check" name="login_type" id="host" value="host" onclick="toggleFooter('host')">
            <label class="btn btn-outline-danger" for="host">Camp Host</label>
        </div>

        <div class="mb-3 text-start">
            <label class="form-label fw-bold text-secondary">Email or Phone</label>
            <input type="text" name="login_id" class="form-control" placeholder="Enter your registered ID" required>
        </div>
        <div class="mb-4 text-start">
            <label class="form-label fw-bold text-secondary">Password</label>
            <input type="password" name="password" class="form-control" placeholder="••••••••" required>
        </div>
        
        <button type="submit" class="btn btn-custom mb-3">Login</button>
        
        <hr class="my-4">

        <div id="donor-footer" class="footer-link">
            <p class="mb-0">Don't have an account?</p>
            <a href="{{ url_for('register') }}">Register as a New Donor</a>
        </div>

        <div id="host-footer" class="footer-link" style="display: none;">
            <p class="mb-0">Want to organize a blood camp?</p>
            <a href="{{ url_for('register_host') }}">Create New Host ID</a>
        </div>

        <div class="mt-3">
            <small class="text-muted">Are you an administrator? <a href="{{ url_for('admin_login') }}" class="text-secondary fw-bold">Admin Login</a></small>
        </div>
    </form>
</div>

<script>
    function toggleFooter(role) {
        // Get elements
        const donorFooter = document.getElementById('donor-footer');
        const hostFooter = document.getElementById('host-footer');
        
        // Reset all to hidden first
        donorFooter.style.display = 'none';
        hostFooter.style.display = 'none';
        
        // Show specific footer based on role
        if (role === 'donor') {
            donorFooter.style.display = 'block';
        } else if (role === 'host') {
            hostFooter.style.display = 'block';
        }
        // If 'hospital' is selected, both remain hidden (or you can add a hospital specific message)
    }
</script>
{% endblock %}